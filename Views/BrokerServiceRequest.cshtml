@model WebApplication1.Models.BrokerUpdateModel
@using WebApplication1.Models.Resources
@{
    Layout = null;
}

<!DOCTYPE html>

    @using (Ajax.BeginForm("BrokerUpdate", "BrokerRenewal", new AjaxOptions { HttpMethod = "POST", UpdateTargetId = "BrokerUpdate" }))

    {
    <head>
        <title> @Resources.Resource.brokerUpdatation</title>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous">
        <link href="~/css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">
        <link href="~/themes/explorer-fas/theme.css" media="all" rel="stylesheet" type="text/css" />
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="~/js/plugins/sortable.js" type="text/javascript"></script>
        <script src="~/js/fileinput.js" type="text/javascript"></script>
        <script src="~/js/locales/fr.js" type="text/javascript"></script>
        <script src="~/js/locales/es.js" type="text/javascript"></script>
        <script src="~/themes/fas/theme.js" type="text/javascript"></script>
        <script src="~/themes/explorer-fas/theme.js" type="text/javascript"></script>

        @*<script src="~/scripts/jquery.min.js" type="text/javascript" nonce="EDNnf03nceIOfn39fn3e9h3sdfa"></script>*@

        <link href="~/styles/bootstrap.css" rel="stylesheet" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" />
        <script src="~/scripts/bootstrap.js" type="text/javascript" nonce="EDNnf03nceIOfn39fn3e9h3sdfa"></script>

        <link rel="stylesheet" href="~/styles/font-awesome.min.css" type="text/css" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" />
        <link rel="stylesheet" href="~/styles/Untitled.css" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" />


        <script src="~/Scripts/jquery-ui.js" type="text/javascript" nonce="EDNnf03nceIOfn39fn3e9h3sdfa"></script>
        <link type="text/css" rel="stylesheet" href="~/styles/jquery-ui.css" media="all" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" />
        <link type="text/css" rel="stylesheet" href="~/styles/datepickercss.css" media="all" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" />

        <link rel="stylesheet" type="text/css" href="~/styles/style.css" media="all" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" />
        <link rel="stylesheet" type="text/css" href="~/styles/demo.css" media="all" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" />
        @*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/css/bootstrap-select.min.css">*@
        @*<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>*@
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/js/bootstrap-select.min.js"></script>

        <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        @*<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>*@
        <script src="~/Scripts/jquery.dataTables.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
        <style type="text/css">

          
            #dvPreview {
                filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=image);
                min-height: 200px;
                min-width: 200px;
                display: none;
            }

            #upload-button {
                width: 150px;
                display: block;
                margin: 20px auto;
            }

            #file-to-upload {
                display: none;
            }

            #pdf-main-container {
                width: 400px;
                margin: 20px auto;
            }

            #pdf-loader {
                display: none;
                text-align: center;
                color: #999999;
                font-size: 13px;
                line-height: 100px;
                height: 100px;
            }

            #pdf-contents {
                display: none;
               max-height: 356px;max-width: 356px;
               overflow: scroll;

            }

            #pdf-meta {
                overflow: hidden;
                margin: 0 0 20px 0;
            }

            #pdf-buttons {
                float: left;
            }

            #page-count-container {
                float: right;
            }

            #pdf-current-page {
                display: inline;
            }

            #pdf-total-pages {
                display: inline;
            }

            #pdf-canvas {
                border: 1px solid rgba(0,0,0,0.2);
                box-sizing: border-box;
            }

            #page-loader {
                height: 100px;
                line-height: 100px;
                text-align: center;
                display: none;
                color: #999999;
                font-size: 13px;
            }

       
        </style>
      
    </head>

    <body dir=@Resources.Resource.dir>
        <div class="navbar navbar-inverse navbar-fixed-top" id="navbar">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>
                <div class="navbar-collapse collapse" id="navDiv">
                    <img src="images/customs.png" width="60" alt="" />
                    <ul class="nav navbar-nav navbar-right">

                        <li><a href="LogOut.aspx" id="linktoExit">@Resources.Resource.logOut</a></li>
                        <li><a href="notifications.aspx" id="linktoNotifications">@Resources.Resource.notifications</a></li>

                        <li><a href="EServiceBrokerRenewal.aspx" id="linkToBrokersManagement">@Resources.Resource.brokersManagement</a></li>


                    </ul>


                </div>
            </div>
        </div>
        <div class="container">
            <div>
                <input type="hidden" runat="server" id="txtCivilIdExpirydatePickerhdn" />
                <input type="hidden" runat="server" id="txtPassportExpirydatePickerhdn" />
                <input type="hidden" runat="server" id="txtTradeLicenseExpiryDatePickerhdn" />
                <input type="hidden" runat="server" id="txtCivilIdExpirydatePickerhdnForvaildate" />
                <input type="hidden" runat="server" id="txtPassportExpirydatePickerhdnForvaildate" />
                <input type="hidden" runat="server" id="txtTradeLicenseExpiryDatePickerhdnForvaildate" />
              
                @Html.HiddenFor(m => Model.Eservicerequestid,new { @id = "Eservicerequestid" });
                @Html.HiddenFor(m => Model.Referenceprofile, new { @id = "Referenceprofile" });

            </div>
            <div class="container">
                <header>
                    <h3>@Resources.Resource.brokerUpdatation</h3>
                </header>
                <div class="form">

                    <div id="requestListDivExpand">
                        <h3 class="text-dark text-center">
                            <b id="showInformationlbl">
                               @Resources.Resource.showInformation &nbsp;
                            </b>
                            <b id="hideInformationlbl">
                                @Resources.Resource.hideInformation  &nbsp;
                            </b>
                            <i class="glyphicon glyphicon-arrow-up" id="arrowUpp"></i>
                            <i class="glyphicon glyphicon-arrow-down" id="arrowDownn"></i>

                        </h3>
                    </div>
                    <br />

                    <div id="requestListDiv">

                        <p class="contact">
                           
                            @Html.Label(Resources.Resource.BrokerType)

                        </p>
                       
                        @*<asp:TextBox ID="BrokerTypeLBl" Enabled="false" runat="server" CssClass="NotEditable"></asp:TextBox>*@

                        @Html.TextBoxFor(Model => Model.BrokerType, new  { @disabled = "disabled",@class= "NotEditable" })
                        <p class="contact">
                              @Html.Label(Resources.Resource.requestNo)
                        </p>

                        @Html.TextBoxFor(Model => Model.RequestNumber, new { @disabled = "disabled", @class = "NotEditable" })


                        <p class="contact">
                            @Html.Label("Parent Broker Name")

                        </p>
                         @Html.TextBoxFor(Model => Model.ParentBrokerName, new { @disabled = "disabled", @class = "NotEditable" })

                        <p class="contact">
                            @Html.Label(Resources.Resource.brokerArabicNameLbl)


                        </p>
                         @Html.TextBoxFor(Model => Model.BrokerArabicName, new { @disabled = "disabled", @class = "NotEditable" })




                        <p class="contact">
                       
                            @Html.Label(Resources.Resource.brokerEnglishNameLbl)


                        </p>
                     
                        @Html.TextBoxFor(Model => Model.BrokerEnglishName, new { @disabled = "disabled", @class = "NotEditable" })


                        <p class="contact">
                     
                       @Html.Label(Resources.Resource.civilIdNo)

                        </p>
                        @Html.TextBoxFor(Model => Model.CivilIdNo, new { @disabled = "disabled", @class = "NotEditable" })


                    </div>

                    <p class="contact">
                       
                        @Html.Label(Resources.Resource.expiryDate)


                    </p>

                     @Html.TextBoxFor(Model => Model.CivilIdExpirydate, new { @id= "CivilIdExpirydatePicker" ,@class = "inputBorder" })


                    <p class="contact">
                        @Html.Label(Resources.Resource.passportNo)
                    </p>
                 
                    @Html.TextBoxFor(Model => Model.passportNo, new { @id = "CivilIdExpirydatePicker", @class = "inputBorder" })

                    <p class="contact">
                        @Html.Label(Resources.Resource.expiryDate)

                    </p>

                    @Html.TextBoxFor(Model => Model.PassportExpirydate, new { @id = "PassportExpirydatePicker", @class = "inputBorder" })

                    
                    <p class="contact">
                        @Html.Label("Trade License Expiry Date")


                    </p>
                
                    @Html.TextBoxFor(Model => Model.TradeLicenseExpiryDate, new { @id = "TradeLicenseExpiryDate", @class = "inputBorder" })




                    <p class="contact">
                         @Html.Label(Resources.Resource.mobileNumber)


                    </p>
                    @Html.TextBoxFor(Model => Model.MobileNumber, new {  @class = "inputBorder" })




                    <p class="contact">
                        @Html.Label(Resources.Resource.eMailAddress)


                    </p>

                    @Html.TextBoxFor(Model => Model.MailAddress, new { @class = "inputBorder" })

                    <p class="contact">
                        @Html.Label("New File Name")


                    </p>

                    <p class="contact">

                        @Html.TextBoxFor(Model => Model.NewFileName, new { @id = "NewFilename", @class = "inputBorder", @placeholder = "NewFileName" })


                    </p>




                    <p class="contact">
                        @Html.Label("Document Types")


                    </p>
                    
                    <p class="contact">
                  
                        @Html.DropDownListFor(m => m.docsid, Model.ddlDocumentTypesitems, new { @id = "ddlDocumentTypes",@class="form-control select2" @*@onchange = "this.form.submit();"*@ })




                    </p>
                    <p class="contact">
                        @*<div class="file-loading">
                            <input id="kv-explorer" type="file" multiple>
                        </div>*@
                        <br>
                        @*<div class="file-loading">
                      
                            <input id="fileUploadCtrl" class="file" type="file" multiple data-min-file-count="1" data-theme="fas">



                        </div>*@

                        <div class="file-loading">
                            @*<input id="fileUploadCtrl" type="file">*@

                            <input id="fileUploadCtrl" @*class="file"*@ type="file" multiple data-min-file-count="1" data-theme="fas">

                        </div>
                        <br>
                   
                    </p>
  

                    <p class="contact" >
                     <table id="Uploadedfileslist" class="table">
                         <thead>
                             <tr>
                                 <th><input type="checkbox" id="headercheck"/></th>
                                 <th><u>File Name</u></th>
                                 <th><u>Doc Type</u></th>
                                
                                 <th><u>Created Date</u></th>
                                 <th><u>Download</u></th>
                             </tr>

                         </thead>
                         <tbody>
                            @if (Model.ListOfUploadedFiles != null)
                            {
                                foreach (var item in Model.ListOfUploadedFiles)

                                {
                                    <tr>
                                            <td>
                                                <input type="checkbox" name="@item.DocumentId" runat="server" class="deleteselctedcheckbox" id=@item.DocumentId />

                                            </td>
                                   
                                        <td>
                                            @item.NewFileName
                                        </td>

                                        <td>
                                            @item.DocumentType
                                        </td>
                                        <td>
                                            @*@Html.ActionLink("DownloadFile", "DownloadFile", "BrokerRenewal", new { filename = @item.DocumentId, ArchDocLoc = "no" }, null)*@
                                            @item.Createddate

                                        </td>
                                        <td>
                                           @Html.ActionLink("DownloadFile", "DownloadFile", "BrokerRenewal", new { filename = @item.DocumentId }, null)


                                        </td>
                                        </tr>
                                        }
                                        }
                    </tbody>

                     </table>


                    </p>
                    @if (Model.UploadDiv != "false")
                    {
                    <p class="contact">
                       
                        <a class="btn btn-info btn-sm"  id="DeleteBtn">"delete"</a>
                      

                    </p>
                    }
                    <p class="contact">
                        @Html.Label(Resources.Resource.officialAddress)


                    </p>

                    @Html.TextBoxFor(Model => Model.officialAddress, new { @class = "inputBorder" })


@if (Model.UploadDiv != "false")
{ 
    <p id="UploadPara" runat="server">
     <a class="btn btn-info btn-sm" onclick="up()" id="uploadWindow1">@Resources.Resource.uploadDocuments</a>
                  
    </p>
}
                    @if (Model.SubmitRequest!="false")
                    {
                    <input type="submit" CssClass="btn btn-info btn-sm" id="SubmitRequest" Text="" />
                    }

                    @{
                        ViewBag.UploadDocsURL = System.Configuration.ConfigurationManager.AppSettings["UploadDocs"].ToString();
                        ViewBag.UploadDocs_actioncall = System.Configuration.ConfigurationManager.AppSettings["UploadDocs_actioncall"].ToString();

                    }


                </div>
                </div>
            @{
                ViewBag.UploadDocsURL = System.Configuration.ConfigurationManager.AppSettings["UploadDocs"].ToString();
            }
            <script type="text/javascript" nonce="EDNnf03nceIOfn39fn3e9h3sdfa" src="~/Scripts/eServiceScript.js"></script>
            <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title=@Resources.Resource.returnToTop data-toggle="tooltip" data-placement="left"><span class="glyphicon glyphicon-chevron-up"></span></a>

            </div>
  
        @{
                if (ViewData["OrgGetDocumentsResult"] != null)
                // if (1==1)

                {
                    if (ViewData.Values != null && ViewData.Values.Count() > 0)
                    {
                        foreach (var item in ViewData["OrgGetDocumentsResult"] as List<WebApplication1.Models.OrgGetDocumentsResult>)
                        {
                            <tr>
                                <td align="@WebApplication1.Models.Resources.Resource1.UploadDocument_align_style">
                                    <div style="margin-top:20px" id="idattach">
                                        @{
                                            if (@item.DocumentName != "")
                                            {
                                                <table style="width:90%">
                                                    <tr>
                                                        <td style="width:5%" align="@WebApplication1.Models.Resources.Resource1.UploadDocument_align_style"><span>&#128206;</span></td>
                                                        <td style="width:90%" align="@WebApplication1.Models.Resources.Resource1.UploadDocument_align_style"><span>@item.DocumentName</span></td>
                                                        @{
                                                            if (ViewBag.dis == "1")
                                                            {
                                                                <td style="width:5%" align="center"><i onclick="location.href='@Url.Action("UploadDocument1", "User", new { OrgReqDocId = item.OrganizationRequestDocumentId })'" class="glyphicon glyphicon-trash" style="border:none;color: red;"></i></td>
                                                            }
                                                            else
                                                            {
                                                                <td style="width:5%" align="center"><i class="glyphicon glyphicon-trash" style="border:none;color: red;"></i></td>
                                                            }
                                                        }

                                                    </tr>
                                                </table>
                                                            }
                                                            else
                                                            {
                                                                <table style="width:80%">
                                                                    <tr>
                                                                        <td align="left"><span>@item.DocumentName</span></td>
                                                                    </tr>
                                                                </table>
                                                            }
                                        }
                                    </div>
                                </td>
                            </tr>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <tr>
                                                                    <td align="@WebApplication1.Models.Resources.Resource1.UploadDocument_align_style">
                                                                        <div style="margin-top:20px" id="idattach">

                                                                            <table style="width:80%">
                                                                                <tr>
                                                                                    <td align="left">&nbsp;</td>
                                                                                </tr>
                                                                            </table>

                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                }
                                                            }
            }
        @*<script src="~/Scripts/jquery-3.2.1.min.js"></script>*@
     

        @*<script src="~/pdf.js"></script>
        <script src="~/pdf.worker.js"></script>*@
            <script type="text/javascript">
                $('.select2').select2();
             
    var UploadDocsURL='@ViewBag.UploadDocsURL';
    var UploadDocs_actioncall='@ViewBag.UploadDocs_actioncall';
    var ViewBagmodelstatus='@ViewBag.modelerror';
    var result='@ViewBag.dis';
    if (result===null) {
        result='';
    }
    var Tid='@ViewBag.TokenId';
    var uid='@ViewBag.UserId';
    var reqid1='@ViewBag.reqid1';
     var UploadDocument_align_style = '@WebApplication1.Models.Resources.Resource1.UploadDocument_align_style';


                //$.fn.dataTable.ext.pager.numbers_length = 5;


         
                $(document).ready(function () {

                    $("#fileUploadCtrl").fileinput({
                        browseClass: "btn btn-primary btn-block"
                        ,showCaption: false,
                        showRemove: false,
                        showUpload: false
                    });
                    $.fn.dataTable.ext.pager.numbers_length = 5;


                    var table = $('#Uploadedfileslist').dataTable({
                        "oLanguage": {
                            "infoEmpty": ""
                        },
                        order: [],
                        columnDefs: [{ orderable: false, targets: [0] }],
                        "bPaginate": true,
                        "bLengthChange": false,
                        'sPaginationType': 'ellipses',
                        //  "scrollY": "true",
                        //  "scrollCollapse": true,
                        "pageLength": 5,
                        'pagingType': 'full_numbers',
                        "info": false

                    });
                });

                function up() {

                    var UploadDocsURL = 'http://localhost/ETradeAPI/api/Docs/Upload';
 
                if ($('#fileUploadCtrl').val() == '') {
                return;
                }

                if ($('#NewFilename').val() == '') {
                    alert('Please Give a file name ')
                    return;
                }
              
            var data = new FormData();
             var DocumentName = document.getElementById("NewFilename").value;
            var DocumentType = 'TEST';// document.getElementById('dtypeid').value;
                var files = $("#fileUploadCtrl").get(0).files;

            if (files.length > 0) {
                data.append("Images", files[0]);
            }
            data.append("tokenId", "6BR2Q78TMLH88FX0T4GHBYS5ZDPDT3CG");
            data.append("mUserid", "5");
            data.append("OrgReqId", "13");
            data.append("DocumentName", DocumentName);
                data.append("DocumentType", $("#ddlDocumentTypes").val());
                data.append("Eservicerequestid", $("#Eservicerequestid").val());

                data.append("UploadedFrom", $("#Referenceprofile").val());
                
            //    UploadDocsURL=""
         console.log(data);
            $.ajax({
                type: "POST",
                url: UploadDocsURL,
                contentType: false,
                processData: false,
                dataType: 'json',
                data: data,
                success: function (responseData) {
                    alert(responseData);
                    debugger;
                 var newformdata = new FormData();
                    $.each(responseData.Data.FileUploadResult, function (i, item) {
                        newformdata.append("DocumentName", item.DocumentName);
                        newformdata.append("DocumentType", item.DocumentType);
                        newformdata.append("DocumentTypeCode", item.DocumentTypeCode);
                        newformdata.append("OrganizationRequestDocumentId", item.OrganizationRequestDocumentId);
                        newformdata.append("OrganizationRequestId", item.OrganizationRequestId);
                        newformdata.append("TableName", item.TableName);
                        var docid = item.Encryptedid;
                        //var str = '@Url.Action("UploadDocument1", "Use" +
                                    "r", new { OrgReqDocId = "aa" })';
                        var str = '/BrokerRenewal/DeleteFile?dataItem=aa';
                        var res = str.replace(/aa/g, docid);
                        var url1 = "location.href='" + res + "'";
                        //onclick=" + url1 + ">" + item.DocumentName + "
                        var td = "<tr><td><input type='checkbox' class='deleteselctedcheckbox'  id='" + docid + "'/></td><td onclick=" + url1 + ">" + item.DocumentName + "</td><td>" + $("#ddlDocumentTypes  option:selected").text(); +"</td><td>Download</td><td>Delete</td></tr>"
//                        $("#idattach").append("<br /><tbody><tr><td style='width:5%' class="deleteselctedcheckbox" align='" + UploadDocument_align_style + "'><span>&#128206;</span></td><td style='width:90%' align='" + UploadDocument_align_style + "'><span onclick=" + url1 + ">" + item.DocumentName + "</span></td><td  style='width:5%' align='center'><i onclick=" + url1 + " class='glyphicon glyphicon-trash' style='border:none;color: red;'></i></td></tr></tbody>");
                     //   $("#idattach tbody").append("<br/><tbody><tr><td style='width:5%' align='" + UploadDocument_align_style + "'><span>&#128206;</span></td><td style='width:90%' align='" + UploadDocument_align_style + "'><span onclick=" + url1 + ">" + item.DocumentName + "</span></td><td  style='width:5%' align='center'><i onclick=" + url1 + " class='glyphicon glyphicon-trash' style='border:none;color: red;'></i></td></tr></tbody>");

                        $("#Uploadedfileslist tbody").append(td);
                    });


                },
                error: function (err) {
                    alert(err.statusText);
                }
            });
     }




                $("#DeleteBtn").click(function ()

                {
                    // $("#Uploadedfileslist").html('');
                    var message = '';
                    var HostedLocation = location.pathname.split('/')[1];
                    var delteselected = new Array();
                    //   $('#ddlDocumentTypes').val('');
                    //var checkForBroker = document.getElementById('isbroker').value;

                    // var checkForTokenCreatedBY = document.getElementById('tokencreatedby').value;
                    var count = 0;
                    $('#Uploadedfileslist').find('input.deleteselctedcheckbox:checkbox:checked').each(function () {


                        {
                            //   alert($(this).attr('name'));
                            delteselected.push($(this).attr('name'));
                            count++;
                            $(this).closest('tr').remove();

                        }
                    });
                    if ($("#Uploadedfileslist").find(".deleteselctedcheckbox:checkbox:checked").text().trim() == "") {
                        $('#headercheck').prop('checked', false);
                    }
                    if ($("#Uploadedfileslist").find("input:checkbox:not(:checked)")) {
                        $('#headercheck').prop('checked', false);

                    }



                    // $("#Uploadedfileslist").find(".deleteselctedcheckbox:checkbox:checked").text().trim();

                    {
                        var getlanguageforalert = "eng";
                      //  document.getElementById('SelectedFileId').value = delteselected.join('|');

                        var dataItem = delteselected.join(',');



                        if (dataItem == "") {

                            if (getlanguageforalert == "eng") {

                                alert('No File selected to delete')
                                $('#headercheck').prop('checked', false);
                                return false;
                            }
                            else {
                                alert('لم يتم اختيار أي ملفات للحذف')
                                $('#headercheck').prop('checked', false);
                                return false;
                            }

                        }
                        else {
                            if (getlanguageforalert == "eng") {

                                //  alert('No File selected to delete')
                                message = ' File  deleted';


                            }
                            else {
                                message = " تم حذف الملف";
                                //  $("#UploadForm").submit();

                            }
                          //  var e = document.getElementById('ddlDocumentTypes');
                          //  var value = e.options[e.selectedIndex].value;
                            //  alert(value);

                          //  document.getElementById('SelectedDropdownId').value = value;

                          //  var dropdownvalue = document.getElementById('SelectedDropdownId').value;

                        //    $("#texens").val(dataItem);
                         //   document.getElementById("texens").value = "dataItem";

                            if ($("#Uploadedfileslist").find(".deleteselctedcheckbox:checkbox:checked").text().trim() == "") {
                                $('#headercheck').prop('checked', false);
                            }
                            if ($("#Uploadedfileslist").find("input:checkbox:not(:checked)")) {
                                $('#headercheck').prop('checked', false);

                            }


                            $.ajax({
                                type: "POST",
                        url: "/BrokerRenewal/DeleteFile",
                                data: { 'dataItem': dataItem},
                                success: function (response) {
                                 //   $("#UploadForm").submit();
                                    alert(response.responseText);
                                   // $('#headercheck').prop('checked', false);

                                },
                                failure: function (response) {
                                    alert(response.responseText);
                                },
                                error: function (response) {
                                    alert(response.responseText);
                                }
                            });
                        }

                    }
                    return false;
                });

            </script>

<style type="text/css">
    .input-group file-caption-main {
        width: 70%
    }
            

</style>
</body>


}
